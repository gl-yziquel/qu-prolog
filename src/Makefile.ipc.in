export LIBRARY.ipc = ipc.a

export SOURCES.ipc = \
	icm_environment.cc \
	elvin_env.cc \
	icm_handle.cc \
	thread_table.cc

export BASES.ipc= $(basename $(SOURCES.ipc))
export OBJECTS.ipc= $(addsuffix .o,$(BASES.ipc))

.PHONY:	all.ipc
all.ipc: $(LIBRARY.ipc)

$(LIBRARY.ipc): $(OBJECTS.ipc)
	$(AR) $(ARFLAGS) $@ $(OBJECTS.ipc)
	@RANLIB@ $@

.PHONY: install.ipc
install.ipc: all.ipc

elvin_env.o: elvin_env.cc
	$(CXX) @ELVIN_CFLAGS@ $(CXXFLAGS) -c -o elvin_env.o elvin_env.cc


